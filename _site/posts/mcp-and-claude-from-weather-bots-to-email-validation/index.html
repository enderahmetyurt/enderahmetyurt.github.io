<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" data-mode="light">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="MCP &amp; Claude: From Weather Bots to Email Validation" />
<meta property="og:locale" content="en" />
<meta name="description" content="Hello 👋" />
<meta property="og:description" content="Hello 👋" />
<link rel="canonical" href="http://localhost:4000/posts/mcp-and-claude-from-weather-bots-to-email-validation/" />
<meta property="og:url" content="http://localhost:4000/posts/mcp-and-claude-from-weather-bots-to-email-validation/" />
<meta property="og:site_name" content="EAY" />
<meta property="og:image" content="https://images.unsplash.com/photo-1525338078858-d762b5e32f2c?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA==" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-04-30T16:00:00+03:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://images.unsplash.com/photo-1525338078858-d762b5e32f2c?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA==" />
<meta property="twitter:title" content="MCP &amp; Claude: From Weather Bots to Email Validation" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-04-30T16:00:00+03:00","datePublished":"2025-04-30T16:00:00+03:00","description":"Hello 👋","headline":"MCP &amp; Claude: From Weather Bots to Email Validation","image":"https://images.unsplash.com/photo-1525338078858-d762b5e32f2c?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA==","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/mcp-and-claude-from-weather-bots-to-email-validation/"},"url":"http://localhost:4000/posts/mcp-and-claude-from-weather-bots-to-email-validation/"}</script>
<!-- End Jekyll SEO tag -->


  <title>MCP & Claude: From Weather Bots to Email Validation | EAY
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="EAY">
<meta name="application-name" content="EAY">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.29.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- JavaScript -->

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="https://pbs.twimg.com/profile_images/1667481765160574977/RgY4ZrIs_400x400.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">EAY</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">Software Engineer</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/talks/" class="nav-link">
            <i class="fa-fw fas fa-person-chalkboard"></i>
            

            <span>TALKS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    
      

      
        <a
          href="https://bsky.app/profile/enderahmetyurt.com"
          aria-label="bluesky"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-bluesky"></i>
        </a>
      
    
      

      
        <a
          href="https://github.com/enderahmetyurt"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['enderyurt','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>MCP & Claude: From Weather Bots to Email Validation</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>MCP & Claude: From Weather Bots to Email Validation</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1746018000"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Apr 30, 2025
</time>

      </span>

      <!-- lastmod date -->
      

      
        
        
        

        

        <div class="mt-3 mb-3">
          <a href="https://images.unsplash.com/photo-1525338078858-d762b5e32f2c?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="popup img-link preview-img shimmer"><img src="https://images.unsplash.com/photo-1525338078858-d762b5e32f2c?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"  alt="Preview Image" width="1200" height="630"  loading="lazy"></a></div>
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/enderahmetyurt">Ender Ahmet Yurt</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1431 words"
>
  <em>7 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <p>Hello 👋</p>

<p>As everyone working with AI knows, MCP has been a popular topic lately. I wanted to learn about this topic and create a few applications. I was looking into it in my spare time after work, but hadn’t made much progress. The innovation week we have at the company after each cycle was an opportunity for me. During this innovation week, I set out to learn about MCP and develop at least one application.</p>

<p>When I first encountered Claude’s Model Context Protocol (MCP) support, it looked simple enough. A quick demo tool that checks the weather? Nice. It made me think: “This could be useful. Maybe I’ll try building something small of my own.”</p>

<p>That “something small” turned into a week-long adventure full of surprises, frustrations, and unexpected wins. I started with Claude’s weather tool, built a football match API on top of it, and then dove head-first into a CSV email validator. What I thought would be a couple of lines of code turned into a masterclass in JSON-RPC, tool registration, prompt design, and Claude’s tendency to… make things up.</p>

<h2 id="step-1-the-weather-tool-from-mcp-docs"><span class="me-2">Step 1: The Weather Tool (from MCP Docs)</span><a href="#step-1-the-weather-tool-from-mcp-docs" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>My MCP journey began with the example tool provided in the <a href="https://github.com/modelcontext/spec">official Model Context Protocol documentation</a>. It was a weather bot — a small service that, when asked, could return the weather in a given city using a public API.</p>

<p>I didn’t build it myself, but running it was my first taste of how Claude interacts with tools using JSON-RPC, how <code class="language-plaintext highlighter-rouge">zod</code> is used to validate input schemas, and how responses are structured in a way Claude can understand and present back to the user.</p>

<p>It was clean, simple, and gave me just enough confidence to try building my own tool. That first step was important: it showed me how Claude calls a tool, what metadata it expects, and what it means when a tool “appears” in Claude’s UI.</p>

<p>Of course, I didn’t yet know that getting Claude to call <em>my</em> tool — and use the real data I gave it — would become a battle of prompt phrasing, schema formatting, and taming Claude’s sometimes overly helpful hallucinations.</p>

<h2 id="step-2-building-my-own--the-football-tool"><span class="me-2">Step 2: Building My Own – The Football Tool</span><a href="#step-2-building-my-own--the-football-tool" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>After playing around with the weather example, I wanted to try something of my own. I’m a football fan, so I decided to build a tool that could fetch the next match for any Premier League team using the <a href="https://www.football-data.org/">Football Data API</a>.</p>

<p>This was my first custom MCP tool, and it taught me a lot:</p>

<ul>
  <li>I used <code class="language-plaintext highlighter-rouge">fetch</code> to query real-time data from the API</li>
  <li>I created a simple schema where Claude could pass in a team name like <code class="language-plaintext highlighter-rouge">"Liverpool"</code> or <code class="language-plaintext highlighter-rouge">"Arsenal"</code></li>
  <li>I returned a friendly summary: next match date, teams, and venue</li>
</ul>

<p>Most importantly, I learned how to register a tool using the method I preferred:</p>

<div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">McpServer</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">football</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.0.0</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">capabilities</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">tools</span><span class="p">:</span> <span class="p">{},</span>
    <span class="na">resources</span><span class="p">:</span> <span class="p">{},</span>
  <span class="p">},</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Then, I added the tool with <code class="language-plaintext highlighter-rouge">server.tool(...)</code> instead of defining tools inline. This gave me more control and matched the structure I wanted to follow going forward.</p>

<p>Claude responded beautifully. I could upload a file or just type “What’s the next match for Tottenham?” and the tool did its job. It was a win — both technically and emotionally.</p>

<p>I felt like I understood the flow. And then I tried to build a tool that reads a CSV file…</p>

<p>//image</p>

<h2 id="step-3-the-email-checker-tool-aka-the-boss-fight"><span class="me-2">Step 3: The Email Checker Tool (aka The Boss Fight)</span><a href="#step-3-the-email-checker-tool-aka-the-boss-fight" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>After the football tool, I was feeling confident. So I challenged myself to build something more complex: a tool that would read a CSV file, find rows with invalid or missing email addresses, and return a report.</p>

<p>Sounds simple, right?</p>

<p>It wasn’t.</p>

<h3 id="what-i-wanted"><span class="me-2">What I wanted:</span><a href="#what-i-wanted" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>Let Claude users upload a CSV</li>
  <li>Check the <code class="language-plaintext highlighter-rouge">email</code> column for missing or invalid entries</li>
  <li>Return structured output with error rows</li>
</ul>

<h3 id="what-actually-happened"><span class="me-2">What actually happened:</span><a href="#what-actually-happened" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>I spent days untangling edge cases and weird behaviors. Here are just a few:</p>

<h4 id="1-tool-didnt-show-up-in-claude"><span class="me-2">1. Tool didn’t show up in Claude</span><a href="#1-tool-didnt-show-up-in-claude" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<p>I initially defined my tool like this:</p>

<div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">McpServer</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">email-checker</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.0.0</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">tools</span><span class="p">:</span> <span class="p">[</span> <span class="p">...</span> <span class="p">],</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></div></div>

<p>But Claude wouldn’t list it. After some digging, I realized Claude only recognizes tools when they’re registered through the capabilities.tools structure or added dynamically via server.tool(…). Once I switched to the football-style setup, it finally worked.</p>

<h4 id="2-console-logs-crashed-the-json-parser"><span class="me-2">2. Console logs crashed the JSON parser</span><a href="#2-console-logs-crashed-the-json-parser" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<p>My tool used <code class="language-plaintext highlighter-rouge">console.log()</code> to show debug info like “⚙️ Tool called” or “📥 Received file from Claude.”</p>

<p>Claude interpreted this as invalid JSON (yep — even emoji caused JSON.parse errors).</p>

<p>Switching to <code class="language-plaintext highlighter-rouge">console.error()</code> helped, but sometimes even that made Claude silently ignore the response.</p>

<p>In the end, I just removed logs entirely unless I was running locally.</p>

<h4 id="3-claude-ignored-my-file-and-made-one-up"><span class="me-2">3. Claude ignored my file and made one up</span><a href="#3-claude-ignored-my-file-and-made-one-up" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<p>This was the most frustrating part. I uploaded a real emails.csv, but Claude decided to “help” by generating its own content instead. Every time I asked it to run the tool, it sent a fake CSV string like:</p>

<pre><code class="language-csv">id,email
1,test@example.com
2,fake@demo.com
</code></pre>

<p>Meanwhile, my actual file had missing values and real formatting — things I needed the tool to analyze.</p>

<h4 id="the-fix-prompt-engineering"><span class="me-2">The fix? Prompt engineering.</span><a href="#the-fix-prompt-engineering" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<p>I had to explicitly instruct Claude to use the uploaded file as-is. Here’s the one prompt that consistently worked:</p>

<blockquote>
  <p>“Please call the check-emails tool and pass the file using the file argument, with the full CSV content. Do not simulate or summarize it — use the actual uploaded file’s content.”</p>

</blockquote>

<p>Only then did Claude finally send the correct <code class="language-plaintext highlighter-rouge">file.content</code>, and the tool behaved as expected.</p>

<h2 id="what-i-learned"><span class="me-2">What I Learned</span><a href="#what-i-learned" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>Every tool I built taught me something new — not just about MCP or Claude, but about debugging, designing for unpredictability, and the importance of developer empathy when tools behave oddly.</p>

<p>Here are the key lessons I walked away with:</p>

<h3 id="mcp-is-simple-in-theory-sensitive-in-practice"><span class="me-2">MCP is simple in theory, sensitive in practice</span><a href="#mcp-is-simple-in-theory-sensitive-in-practice" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>MCP’s structure is straightforward: define a name, a version, a tool with an input schema and an execute method. But if you misplace a tool inside the wrong part of the server setup — say, using tools: […] instead of capabilities.tools or server.tool() — Claude won’t see it. And it won’t tell you why.</p>

<h3 id="stdout--stderr-and-claude-cares-a-lot"><span class="me-2">stdout ≠ stderr (and Claude cares a lot)</span><a href="#stdout--stderr-and-claude-cares-a-lot" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>Claude listens to stdout for JSON-RPC responses — so if your tool prints logs with console.log(…), it might break JSON parsing. Emoji? Multiline logs? You’re in trouble. Use console.error(…) or remove logs entirely when testing in Claude.</p>

<h3 id="prompt-engineering-matters--a-lot"><span class="me-2">Prompt engineering matters — a lot</span><a href="#prompt-engineering-matters--a-lot" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>Claude is smart, but it’s also imaginative. If you’re not specific, it might invent file content, misinterpret schema expectations, or summarize rather than relay. You need to tell it <em>exactly</em> what to do. I learned to write prompts like a lawyer:</p>

<blockquote>
  <p>“Use the uploaded file. Pass it via the file argument. Do not simulate, summarize, or replace the content.</p>

</blockquote>

<h3 id="logging-is-life"><span class="me-2">Logging is life</span><a href="#logging-is-life" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>When I wasn’t sure what Claude was actually sending my tool, I started logging incoming arguments. That’s how I spotted empty strings, fake data, or missing keys. Don’t trust the prompt output alone — verify it on your end.</p>

<h3 id="the-smallest-detail-can-break-everything"><span class="me-2">The smallest detail can break everything</span><a href="#the-smallest-detail-can-break-everything" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>A misplaced emoji, a missing await, a capital letter in a tool name… all of these broke things silently at one point. Debugging tools that talk to AI requires the patience of a saint — or at least a strong coffee habit.</p>

<h2 id="closing-thoughts"><span class="me-2">Closing Thoughts</span><a href="#closing-thoughts" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>What started as a simple experiment with Claude’s weather tool ended up being one of the most intense debugging experiences I’ve had in a while.</p>

<p>I didn’t expect to wrestle with output streams, prompt phrasing, or a language model’s tendency to make things up. But I did. And while it was frustrating at times (okay, <em>a lot</em> of the time), it was also deeply rewarding.</p>

<p>I learned how Claude sees the world — not just how to call a tool, but how it interprets intent, how it guesses context, and how it sometimes needs to be guided very, very precisely. I also learned that building tools for AI is less about “writing code” and more about “creating contracts between code and language.”</p>

<p>If you’re planning to build your own MCP tools:</p>

<p>👉 start small,</p>

<p>👉 test everything locally first,</p>

<p>👉 and assume nothing — especially when Claude tells you “Done!” 😅</p>

<p>Would I go through this again?</p>

<p>Yes — because now I can build tools that really work, and I know how to make Claude behave when it doesn’t.</p>

<p>❤️</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/development/">Development</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/mcp/"
            class="post-tag no-text-decoration"
          >mcp</a>
        
          <a
            href="/tags/ai/"
            class="post-tag no-text-decoration"
          >ai</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=MCP%20&%20Claude:%20From%20Weather%20Bots%20to%20Email%20Validation%20-%20EAY&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fmcp-and-claude-from-weather-bots-to-email-validation%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=MCP%20&%20Claude:%20From%20Weather%20Bots%20to%20Email%20Validation%20-%20EAY&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fmcp-and-claude-from-weather-bots-to-email-validation%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fmcp-and-claude-from-weather-bots-to-email-validation%2F&text=MCP%20&%20Claude:%20From%20Weather%20Bots%20to%20Email%20Validation%20-%20EAY" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/rubyde-abstract-factory-tasarim-deseni/">Ruby’de Abstract Factory Tasarım Deseni</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/mcp-and-claude-from-weather-bots-to-email-validation/">MCP & Claude: From Weather Bots to Email Validation</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/adding-sessiontesthelper-to-existing-rails-project/">Adding SessionTestHelper to Existing Rails Project</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/secure-your-secrets-with-rails-credentials/">Secure Your Secrets with Rails Credentials</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/2021-de-ruby/">2021'de Ruby</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/general/">general</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/t%C3%BCrk%C3%A7e/">türkçe</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/experience/">experience</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/conference/">conference</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/rails/">rails</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ai/">ai</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/design-patterns/">design-patterns</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mcp/">mcp</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="d-none ps-0 pe-4">
    <h2 class="panel-heading ps-3 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/rubyde-abstract-factory-tasarim-deseni/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1750605480"
  data-df="ll"
  
>
  Jun 22, 2025
</time>

              <h4 class="pt-0 my-2">Ruby’de Abstract Factory Tasarım Deseni</h4>
              <div class="text-muted">
                <p>Merhaba 👋

Uygulamalar büyüdükçe, birbiriyle uyumlu şekilde çalışması gereken nesne gruplarıyla karşılaşırız. Farklı veritabanı motorlarına göre konfigürasyon nesneleri, çoklu tema desteği olan kul...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/adding-sessiontesthelper-to-existing-rails-project/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1741179060"
  data-df="ll"
  
>
  Mar  5, 2025
</time>

              <h4 class="pt-0 my-2">Adding SessionTestHelper to Existing Rails Project</h4>
              <div class="text-muted">
                <p>Hello 👋

With Rails 8, built-in authentication has been introduced. Although it seems like a small and simple step, for a developer like me who uses Devise in every project, even for basic authenti...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/secure-your-secrets-with-rails-credentials/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1738849860"
  data-df="ll"
  
>
  Feb  6, 2025
</time>

              <h4 class="pt-0 my-2">Secure Your Secrets with Rails Credentials</h4>
              <div class="text-muted">
                <p>Hello 👋

Whether you are a junior or senior developer, you know that keeping secrets out of your repository is crucial. From API keys to database passwords, sensitive information should never be ha...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/adding-sessiontesthelper-to-existing-rails-project/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Adding SessionTestHelper to Existing Rails Project</p>
    </a>
  

  
    <a
      href="/posts/rubyde-abstract-factory-tasarim-deseni/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Ruby’de Abstract Factory Tasarım Deseni</p>
    </a>
  
</nav>

            
              
              <!-- The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://github.com/enderahmetyurt">Ender Ahmet Yurt</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.1.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/general/">general</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/t%C3%BCrk%C3%A7e/">türkçe</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/experience/">experience</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/conference/">conference</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/rails/">rails</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ai/">ai</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/design-patterns/">design-patterns</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mcp/">mcp</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->
    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.29.0/dist/tocbot.min.js"></script>







<script src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  







    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5">Oops! No results found.</p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

